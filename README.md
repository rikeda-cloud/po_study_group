# 🧩 TypeScript勉強会課題：APIレスポンス整形ユーティリティを実装せよ

## 背景

あなたはとあるサービスのフロントエンド開発を担当しています。
このサービスが利用するバックエンドAPIは、歴史的な経緯から改修を繰り返しており、フィールドの型が複数存在したり、フィールドが欠けたりしたレスポンスが返ってきます。
このままでは、フロントエンドの予期せぬ挙動やクラッシュの原因となりかねません。

## 課題

APIからのレスポンスを安全に処理し、定義された型に整形するユーティリティ関数 `processApiResponse` を実装・改善してください。

`src/processApiResponse.ts` のみが実装対象です。
初期状態では、この関数は擬似APIから受け取ったデータをそのまま返しているため、テストが全て失敗します。

あなたのゴールは、**すべてのテストが成功する**ようにこの関数を改修することです。

## 評価基準

以下の観点からコードを評価し、議論の材料とします。

1.  **型安全性**: TypeScriptの機能を活かし、不正なデータがアプリケーション内で利用されることを防げているか?
2.  **可読性**: 処理内容が理解しやすいか？
3.  **パフォーマンス**: コードの実行速度が考慮されているか？
4.  **保守性**: 処理内容が理解しやすく、将来の仕様変更にも対応しやすいか?
5.  **複雑度**: 処理が完結で複雑な分岐やネストされたループなどが少ないか?
6.  **堅牢性**: 用意されたテストをパス可能か？

## 評価方法

- 用意されたテストを実行し、`パスしたテストの数(テストケースは10個用意) ×5pt` が付与されます(最大で50pt)。
- AIに下記のプロンプトで評価してもらい、`5項目 ×AIが評価した点数(最大10pt)`が付与されます(最大で50pt)。
```
あなたはプログラムの良し悪しを評価するエージェントです。

プログラムの評価基準として、
1.  **型安全性**: TypeScriptの機能を活かし、不正なデータがアプリケーション内で利用されることを防げているか?
2.  **可読性**: 処理内容が理解しやすいか？
3.  **パフォーマンス**: コードの実行速度が考慮されているか？
4.  **保守性**: 処理内容が理解しやすく、将来の仕様変更にも対応しやすいか?
5.  **複雑度**: 処理が完結で複雑な分岐やネストされたループなどが少ないか?
の5つの項目を評価します。
1項目につき10ptを上限として評価してください。

作成するプログラムは引数に数値を取り、擬似的なfetch関数を実行し、そのレスポンスを決められた型フォーマットに整形して返す関数になります。

下記が型定義と作成したプログラムになります。

{型定義}

{作成したprocessApiResponseのコード}
```

## API仕様

期待される正常なレスポンスの型は `src/ApiResponse.ts`内に定義されています。

- **成功時**: `status` が `success` となり、`data` にユーザー情報または製品情報が含まれます。
- **失敗時**: `status` が `error` となり、`data` にエラー情報が含まれます。

## セットアップと実行

1.  依存パッケージをインストールします。
    ```bash
    npm install
    ```

2.  テストを実行します。
    ```bash
    npm test
    ```

3.  linterを実行します。
    ```bash
    npm run lint
    ```
